"use strict";(self["webpackChunkclipbroad"]=self["webpackChunkclipbroad"]||[]).push([[183],{27:(e,t,i)=>{i.d(t,{Z:()=>l});const l={imageExt:["png","jpg","jpeg","gif","svg","tiff","bmp","ico","webp"],videoExt:["mp4","mov","mkv","avi","wmv","rmvb","swf","flv","mpg","mpeg"],audioExt:["mp3","ape","flac","wav","aac","wma","ogg","mpga"],archieveExt:["zip","7z","rar"],excelExt:["xls","xlsx","xlsm"],wordExt:["doc","docx"],textExt:["txt","inf","rtf"],defaultSettings:{hideIcon:!1,autoLaunch:!1,showCopiedNotification:!0,syncUseMobileData:!1,maxItem:40,maxFileSize:5},githubClientID:"fa79756f53d8c0a88ddd",autoSyncInterval:3e4,checkClipboardInterval:500}},3183:(e,t,i)=>{i.r(t),i.d(t,{default:()=>ne});var l=i(3673),o=i(8880),a=i(2323);const n=(0,l._)("br",null,null,-1),s=(0,l._)("br",null,null,-1),r=(0,l._)("br",null,null,-1),h=(0,l._)("br",null,null,-1),d=(0,l._)("br",null,null,-1),m=(0,l._)("br",null,null,-1),c=(0,l._)("br",null,null,-1),u=(0,l._)("br",null,null,-1),p={key:0,class:"absolute-bottom-left"},g={class:"absolute-bottom-right"};function f(e,t,i,f,b,w){const y=(0,l.up)("q-spinner"),v=(0,l.up)("q-tooltip"),I=(0,l.up)("q-checkbox"),x=(0,l.up)("q-item-section"),$=(0,l.up)("q-icon"),q=(0,l.up)("ClipboardItem"),S=(0,l.up)("q-item-label"),k=(0,l.up)("q-item"),N=(0,l.up)("q-list"),E=(0,l.up)("q-btn"),Z=(0,l.up)("q-toolbar"),_=(0,l.up)("q-page"),D=(0,l.up)("q-pull-to-refresh"),C=(0,l.Q2)("ripple"),P=(0,l.Q2)("touch-hold");return(0,l.wg)(),(0,l.j4)(D,{onRefresh:e.syncNow,color:"black",icon:"autorenew"},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{class:"q-pa-md"},{default:(0,l.w5)((()=>[e.loading?((0,l.wg)(),(0,l.j4)(y,{key:0,color:"primary",size:"5em",thickness:10,class:"fixed-center"})):(0,l.kq)("",!0),(0,l.Wm)(N,{bordered:"",separator:""},{default:(0,l.w5)((()=>[(0,l.Wm)(o.W3,{appear:"","enter-active-class":"animated slideInLeft","leave-active-class":"animated fadeOutLeft"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.items,((i,o)=>(0,l.wy)(((0,l.wg)(),(0,l.j4)(k,{key:o,clickable:"",onDblclick:t=>e.copyItem(o)},{default:(0,l.w5)((()=>[e.showItemDebugInfo?((0,l.wg)(),(0,l.j4)(v,{key:0},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(i.time),1),n,(0,l.Uk)(" "+(0,a.zw)(i.value.toString().substr(0,100)),1),s,(0,l.Uk)(" "+(0,a.zw)(i.isBuffer),1),r,(0,l.Uk)(" "+(0,a.zw)(i.md5),1),h,(0,l.Uk)(" "+(0,a.zw)(i.uploaded),1),d,(0,l.Uk)(" "+(0,a.zw)(i.type),1),m,(0,l.Uk)(" "+(0,a.zw)(null==i.fileName?"N/A":i.fileName),1),c,(0,l.Uk)(" "+(0,a.zw)(null==i.remotePath?"N/A":i.remotePath),1),u,(0,l.Uk)(" "+(0,a.zw)(null==i.remoteSha?"N/A":i.remoteSha),1)])),_:2},1024)):(0,l.kq)("",!0),e.actionBtn?((0,l.wg)(),(0,l.j4)(x,{key:1,avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(I,{modelValue:e.toDeleteItems,"onUpdate:modelValue":t[0]||(t[0]=t=>e.toDeleteItems=t),val:o,color:"orange",onClick:t[1]||(t[1]=()=>{e.toDeleteItems.length==e.items.length?e.isAllSelected=!0:0==e.toDeleteItems.length?e.isAllSelected=!1:e.isAllSelected=null})},null,8,["modelValue","val"])])),_:2},1024)):(0,l.kq)("",!0),(0,l.Wm)(x,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)($,{color:"primary",name:e.itemIcon(i.type)},null,8,["name"])])),_:2},1024),(0,l.Wm)(q,{type:i.type,value:i.value.toString(),key:i.md5,fileName:i.fileName},null,8,["type","value","fileName"]),(0,l.Wm)(x,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(S,{caption:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.prevTime(i.time)),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onDblclick"])),[[C],[P,()=>{e.toggleActionBtn(!0)},"500",{mouse:!0}]]))),128))])),_:1})])),_:1}),e.actionBtn?((0,l.wg)(),(0,l.j4)(Z,{key:1,class:"fixed-bottom bg-primary"},{default:(0,l.w5)((()=>[e.actionBtn?((0,l.wg)(),(0,l.iD)("div",p,[(0,l.Wm)(x,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(I,{"keep-color":"","indeterminate-value":null,size:"xl",class:"q-mx-lg",modelValue:e.isAllSelected,"onUpdate:modelValue":t[2]||(t[2]=t=>e.isAllSelected=t),color:"orange",onClick:t[3]||(t[3]=t=>e.selectAll())},null,8,["modelValue"])])),_:1})])):(0,l.kq)("",!0),(0,l._)("div",g,[e.showDeleteBtn?((0,l.wg)(),(0,l.j4)(E,{key:0,fab:"",icon:"delete",color:"orange",class:"q-ma-md",onClick:t[4]||(t[4]=t=>e.deleteSelected())})):(0,l.kq)("",!0),(0,l.Wm)(E,{fab:"",icon:"close",color:"primary",class:"q-ma-md",onClick:t[5]||(t[5]=()=>{e.toDeleteItems=[],e.toggleActionBtn(!1),e.isAllSelected=!1})})])])),_:1})):(0,l.kq)("",!0)])),_:1})])),_:1},8,["onRefresh"])}var b=i(515),w=i.n(b);i(7280),i(5363),i(7098);const y=["src"],v=["src"],I=["src"];function x(e,t,i,o,n,s){const r=(0,l.up)("q-item-label"),h=(0,l.up)("q-item-section");return(0,l.wg)(),(0,l.iD)(l.HY,null,["text"==e.type?((0,l.wg)(),(0,l.j4)(h,{key:0},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{lines:"3"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.value),1)])),_:1})])),_:1})):(0,l.kq)("",!0),e.textExt.includes(e.type)?((0,l.wg)(),(0,l.j4)(h,{key:1},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{lines:"3"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.base64ToString(e.value)),1)])),_:1})])),_:1})):(0,l.kq)("",!0),"html"==e.type?((0,l.wg)(),(0,l.j4)(h,{key:2},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{lines:"3",innerHTML:e.value},null,8,["innerHTML"])])),_:1})):(0,l.kq)("",!0),e.imageExt.includes(e.type)?((0,l.wg)(),(0,l.j4)(h,{key:3},{default:(0,l.w5)((()=>[(0,l._)("img",{src:"data:"+e.getMimeType(e.type)+";base64,"+e.value,style:{"max-height":"300px","object-fit":"contain","max-width":"100%"}},null,8,y)])),_:1})):(0,l.kq)("",!0),e.videoExt.includes(e.type)?((0,l.wg)(),(0,l.j4)(h,{key:4},{default:(0,l.w5)((()=>[(0,l._)("video",{controls:"",src:"data:"+e.getMimeType(e.type)+";base64,"+e.value,height:"320",style:{"object-fit":"contain"}},null,8,v)])),_:1})):(0,l.kq)("",!0),e.audioExt.includes(e.type)?((0,l.wg)(),(0,l.j4)(h,{key:5},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.fileName),1)])),_:1}),(0,l._)("audio",{controls:"",src:"data:"+e.getMimeType(e.type)+";base64,"+e.value,style:{"object-fit":"contain","max-width":"100%"}},null,8,I)])),_:1})):(0,l.kq)("",!0),["text","html"].concat(e.imageExt).concat(e.videoExt).concat(e.audioExt).concat(e.textExt).includes(e.type)?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(h,{key:6,class:"rounded-borders text-center bg-green"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.fileName+"."+e.type),1)])),_:1}))],64)}var $=i(27),q=i(5814)["Buffer"];const S=i(2361),k=(0,l.aZ)({name:"ClipboardItem",props:{type:{type:String,required:!0},value:{type:String,required:!0},fileName:{type:String,required:!1}},data(){return{imageExt:$.Z.imageExt,videoExt:$.Z.videoExt,audioExt:$.Z.audioExt,textExt:$.Z.textExt}},methods:{getMimeType(e){return S.getType(e)},base64ToString(e){return q.from(e,"base64").toString("utf-8")}}});var N=i(2035),E=i(2350),Z=i(9789),_=i.n(Z);k.render=x;const D=k;_()(k,"components",{QItemSection:N.Z,QItemLabel:E.Z});var C=i(7874),P=i(2841),T=i(19),A=i(5814)["Buffer"];const z=i(3559),B=i(2361),W=500;var j=[],L=!1,U=!1,R=0,Q=!1,M=!1,G=[],F=[];const H=(0,l.aZ)({components:{ClipboardItem:D},data(){return{toDeleteItems:[],isAllSelected:!1,showItemDebugInfo:!1,maxFileSize:this.$q.localStorage.has("clipbroad-max-file-size")?this.$q.localStorage.getItem("clipbroad-max-file-size"):$.Z.defaultSettings.maxFileSize,maxItem:this.$q.localStorage.has("clipbroad-max-item")?this.$q.localStorage.getItem("clipbroad-max-item"):$.Z.defaultSettings.maxItem,loading:!1}},computed:w()(w()(w()({},(0,C.rn)("clipboard",["items","actionBtn"])),(0,C.Se)("clipboard",["lastNonShareItem"])),{},{showDeleteBtn(){return this.toDeleteItems.length>0}}),methods:w()(w()({},(0,C.nv)("clipboard",["addItem","updateRemoteParam","removeItem","setItemUploaded","toggleActionBtn"])),{},{checkClipboard(){if(this.$q.platform.is.electron){const e=window.myAPI.readClipboard(this.maxFileSize);if(null==e)return;this.addNewItem(null,e.value,!0,null,!1,e.type,e.fileName,null,null)}else this.$q.platform.is.cordova&&cordova.plugins.clipboard.paste((e=>{null!=e&&""!=e&&this.addNewItem(null,e.toString(),!0,null,!1,"text",null,null,null)}))},prevTime(e){const t=(new Date).getTime(),i=parseInt((t-e)/1e3);if(i<=0)return"Right Now";if(i<60)return i.toString()+"s ago";if(i<3600){const e=parseInt(i/60);return e.toString()+"m ago"}if(i<86400){const e=parseInt(i/3600);return e.toString()+"h ago"}{const e=parseInt(i/3600/24);return e.toString()+"d ago"}},itemIcon(e){return"html"==e?"code":"pdf"==e?"picture_as_pdf":"apk"==e?"apps":"text"==e?"subject":$.Z.textExt.includes(e)?"text_fields":$.Z.imageExt.includes(e)?"image":$.Z.archieveExt.includes(e)?"archive":$.Z.excelExt.includes(e)?"table_view":$.Z.wordExt.includes(e)?"article":$.Z.videoExt.includes(e)?"movie":$.Z.audioExt.includes(e)?"audiotrack":"attachment"},copyItem(e){const t=this.items[e];if("text"==t.type)this.$q.platform.is.electron?(window.myAPI.writeClipboardText(t.value),!0===this.$q.localStorage.getItem("clipbroad-show-copied-notification")&&window.myAPI.showNotification(this.$t("copied"),t.value),window.myAPI.hideWindow()):this.$q.platform.is.cordova&&(cordova.plugins.clipboard.copy(t.value),this.$q.notify(this.$t("copied")));else if("html"==t.type){var i=document.createElement("div");i.innerHTML=t.value;var l=i.textContent||i.innerText||"";this.$q.platform.is.electron?(window.myAPI.writeClipboardHTML(l),!0===this.$q.localStorage.getItem("clipbroad-show-copied-notification")&&window.myAPI.showNotification(this.$t("copied"),l),window.myAPI.hideWindow()):this.$q.platform.is.cordova&&(cordova.plugins.clipboard.copy(l),this.$q.notify(this.$t("copied")))}else if("gif"==t.type)this.$q.platform.is.electron?(fetch("data:image/gif;base64,"+t.value).then((e=>e.blob())).then((e=>{(0,P.Z)(t.fileName+"."+t.type,e)})).catch((e=>{T.log(e)})),window.myAPI.clearClipboard()):this.$q.platform.is.cordova&&(cordova.plugins.clipboard.copy(""),window.plugins.socialsharing.shareWithOptions({files:["data:image/gif;base64,"+t.value]},(()=>{}),(e=>{this.$q.notify(e)})));else if($.Z.imageExt.includes(t.type))this.$q.platform.is.electron?(window.myAPI.writeClipboardImage(t.value),!0===this.$q.localStorage.getItem("clipbroad-show-copied-notification")&&window.myAPI.showNotification(this.$t("copied")),window.myAPI.hideWindow()):this.$q.platform.is.cordova&&(cordova.plugins.clipboard.copy(""),window.plugins.socialsharing.shareWithOptions({files:["data:"+B.getType(t.type)+";base64,"+t.value]},(()=>{}),(e=>{this.$q.notify(e)})));else if(this.$q.platform.is.electron)t.isBuffer?(0,P.Z)(t.fileName+"."+t.type,A.from(t.value,"base64")):(this.loading=!0,fetch(t.value).then((e=>e.blob())).then((e=>{this.loading=!1,(0,P.Z)(t.fileName+"."+t.type,e)})).catch((e=>{T.log(e)}))),window.myAPI.clearClipboard();else if(this.$q.platform.is.cordova){const e=B.getType(t.type);if(!e)return void this.$q.notify(this.$t("fileTypeNotSupported"));cordova.plugins.clipboard.copy(""),window.plugins.socialsharing.shareWithOptions({subject:t.fileName,files:[t.isBuffer?"data:"+e+";base64,"+t.value:t.value]},(()=>{}),(e=>{this.$q.notify(e)}))}this.addNewItem((new Date).getTime(),t.value,t.isBuffer,t.md5,t.uploaded,t.type,t.fileName,t.remotePath,t.remoteSha)},setDarkMode(){if(this.$q.platform.is.electron){const e=window.myAPI.isDarkMode();this.$q.dark.set(e)}},isCellular(){if(this.$q.platform.is.electron)return!1;var e=navigator.connection.type;return!![Connection.CELL_2G,Connection.CELL_3G,Connection.CELL_4G,Connection.CELL].includes(e)},isConnected(){if(this.$q.platform.is.electron)return!0;var e=navigator.connection.type;return e!=Connection.NONE},shouldSync(){return this.$githubInstance.githubRepoExist?this.isConnected()?!0===this.$q.localStorage.getItem("clipbroad-use-mobile-data")||!this.isCellular()||(this.$q.notify(this.$t("syncUntilWifi")),!1):(this.$q.notify(this.$t("noNetwork")),!1):(T.log("github repo does not exist"),!1)},updateFromGithub(){return new Promise(((e,t)=>{this.shouldSync()?M?t("Already updating"):(M=!0,T.log("updating..."),this.$githubInstance.githubRepo.getContents("main","",!0).then((({data:t})=>{if(t.length<2)return M=!1,void e();R=Math.max(t.length-W,0);const i=Math.min(this.maxItem,t.length);let l=0;for(let o=t.length-1;o>=t.length-i;o--)(o=>{let a=t[o].name,n=a.split(".");if(n.length<2)return;let s=n[n.length-1],r=a.replace("."+s,"").split("-");if(r.length<2)return void l++;let h=parseInt(r[0]),d=r[1];if(F.includes(d))return void l++;let m=null;r.length>2&&(m=a.replace("."+s,"").replace(r[0]+"-"+r[1]+"-","")),this.addNewItem(h,t[o].download_url,!0,d,!0,s,m,t[o].name,t[o].sha).then((()=>{l++,l==i&&(M=!1,T.log("updated"),e())}))})(o);if(!(R<=0))for(let e=0;e<R;e++)G.push({path:t[e].path,sha:null,mode:"100644",type:"blob"})})).catch((e=>{T.log(e),t(e)}))):e()}))},uploadToGithub(){return new Promise(((e,t)=>{if(!this.shouldSync())return void e();if(Q)return T.log("still uploading..."),void e();Q=!0;let i=[];for(let o=0;o<this.items.length;o++)this.items[o].uploaded||(i.push(this.items[o]),this.setItemUploaded(o));if(i.length<=0){if(G.length<=0)return T.log("no item to upload"),Q=!1,void e();{T.log(this.$t("uploading"));let i=G;this.uploadTree(G).then((()=>{T.log(this.$t("uploaded")),G=G.filter((e=>!i.includes(e))),Q=!1,e()})).catch((e=>{T.log(e),this.$q.notify(this.$t("error")),Q=!1,t(e)}))}}else{T.log("uploading");let o=0;for(var l=0;l<i.length;l++)(l=>{let a=this.getItemPath(i[l]),n=i[l].value;switch(i[l].type){case"text":case"html":break;default:n=A.from(n,"base64");break}this.$githubInstance.githubRepo.createBlob(n).then((({data:l})=>{G.push({sha:l.sha,path:a,mode:"100644",type:"blob"}),o++,o==i.length&&this.uploadTree(G).then((()=>{T.log("uploaded"),G=[],Q=!1,e()})).catch((e=>{T.log(e),this.$q.notify(this.$t("error")),Q=!1,t(e)}))})).catch((e=>{T.log(e),this.$q.notify(this.$t("error")),Q=!1,t(e)}))})(l)}}))},uploadTree(e){return new Promise(((t,i)=>{if(e.length<1)return void t();let l;this.getSha().then((e=>{l=e})).then((()=>this.$githubInstance.githubRepo.createTree(e,l.commit))).then((({data:e})=>this.$githubInstance.githubRepo.commit(l.parent,e.sha,"update"))).then((({data:e})=>{this.$githubInstance.githubRepo.updateHead("heads/main",e.sha,!0)})).then((()=>{t()})).catch((e=>{T.log(e),i(e)}))}))},getSha(){return new Promise(((e,t)=>{let i,l;this.$githubInstance.githubRepo.getRef("heads/main").then((({data:e})=>{i=e.object.sha})).then((()=>this.$githubInstance.githubRepo.getCommit(i))).then((({data:t})=>(l=t.tree.sha,e({parent:i,commit:l})))).catch((e=>t(e)))}))},resetTimer(){j.forEach(((e,t)=>{clearInterval(e)})),j=[];const e=setInterval(this.checkClipboard,$.Z.checkClipboardInterval),t=setInterval(this.syncNow,$.Z.autoSyncInterval);j.push(e),j.push(t)},syncNow(e){this.$githubInstance.githubRepoExist?this.updateFromGithub().then((()=>{this.uploadToGithub(),setTimeout(e,1e3)})):this.$router.push("/settings")},setupOpenwith(){cordova.openwith.init((()=>{cordova.openwith.addHandler((e=>{for(var t=0;t<e.items.length;++t){var i=e.items[t];cordova.openwith.load(i,((e,t)=>{cordova.plugins.clipboard.copy("");var i=t.path;window.resolveLocalFileSystemURL("file://"+i,(l=>{l.getMetadata((l=>{let o=l.size/1024/1024;if(o>this.maxFileSize)this.$q.notify(this.$t("maxFileSizeTip2"));else{const l=B.getExtension(t.type);if(l){i=i.split("/");var a=i[i.length-1],n=a.split("."),s=a.replace("."+n[n.length-1],"");this.addNewItem(null,e,!0,null,!1,l,s,null,null,!0)}}}))}))}))}})),U=!0}),(()=>{T.log("openwith plugin init failed")}))},addNewItem(e,t,i,l,o,a,n,s,r,h=!1){return new Promise(((h,d)=>{if(null==l&&(l=z.hash(t)),null!=this.lastNonShareItem&&this.lastNonShareItem.md5==l)return void h();null==e&&(e=(new Date).getTime());let m=this.items.findIndex((e=>e.md5==l));if(m<0)if(null!=r)if(["text","html"].concat($.Z.imageExt).concat($.Z.videoExt).concat($.Z.audioExt).concat($.Z.textExt).includes(a)){let t="html"==a||"text"==a;this.$githubInstance.githubRepo.getBlob(r,t).then((({data:t})=>{let i="html"==a||"text"==a?t:t.content;this.addItem({time:e,value:i,isBuffer:!0,md5:l,uploaded:o,type:a,fileName:n,remotePath:s,remoteSha:r}),h()}))}else this.addItem({time:e,value:t,isBuffer:!1,md5:l,uploaded:o,type:a,fileName:n,remotePath:s,remoteSha:r}),h();else this.addItem({time:e,value:t,isBuffer:i,md5:l,uploaded:o,type:a,fileName:n,remotePath:s,remoteSha:r}),h();else if(this.items[m].time==e)this.updateRemoteParam({index:m,value:t,remotePath:s,remoteSha:r}),h();else if(this.items[m].time>e)G.push({path:s,sha:null,mode:"100644",type:"blob"}),h();else{let o=this.items[m];if(this.removeItem(m),null!=o.remotePath){let s=this.getItemPath({time:e,md5:l,fileName:n,type:a});G.push({path:s,sha:o.remoteSha,mode:"100644",type:"blob"}),G.push({path:o.remotePath,sha:null,mode:"100644",type:"blob"}),this.addItem({time:e,value:t,isBuffer:i,md5:l,uploaded:!0,type:a,fileName:n,remotePath:s,remoteSha:o.remoteSha}),h()}else this.addItem({time:e,value:t,isBuffer:i,md5:l,uploaded:!1,type:a,fileName:n,remotePath:null,remoteSha:null}),h()}}))},getItemPath(e){let t=e.time.toString()+"-"+e.md5;return null!=e.fileName&&(t+="-"+e.fileName),t+="."+e.type,t},deleteSelected(e=!0){if(this.toDeleteItems.length>0){if(e&&this.$q.notify(this.$t("deleting")),Q)return void setTimeout((()=>{this.deleteSelected(!1)}),1e3);this.toDeleteItems.sort((function(e,t){return e-t}));for(let e=0;e<this.toDeleteItems.length;e++)this.items[this.toDeleteItems[e]].uploaded&&G.push({sha:null,path:this.getItemPath(this.items[this.toDeleteItems[e]]),mode:"100644",type:"blob"});if(G.length>0)Q=!0,this.uploadTree(G).then((()=>{for(let e=this.toDeleteItems.length-1;e>=0;e--)F.push(this.items[this.toDeleteItems[e]].md5),this.removeItem(this.toDeleteItems[e]);G=[],Q=!1,this.toDeleteItems=[],this.$q.notify(this.$t("deleted"))})).catch((e=>{T.log(e),G=[],Q=!1,this.$q.notify(this.$t("error"))}));else{for(let e=this.toDeleteItems.length-1;e>=0;e--)F.push(this.items[this.toDeleteItems[e]].md5),this.removeItem(this.toDeleteItems[e]);this.toDeleteItems=[],this.$q.notify(this.$t("deleted"))}}this.toggleActionBtn(!1),this.isAllSelected=!1},selectAll(){if(this.toDeleteItems=[],!0===this.isAllSelected)for(let e=0;e<this.items.length;e++)this.toDeleteItems.push(e)},initGithub(){this.$q.localStorage.has("clipbroad-github-token")&&(this.$q.notify(this.$t("connectingGithub")),this.$setGithub(this.$q.localStorage.getItem("clipbroad-github-token")).then((({data:e})=>{e.username,this.$q.notify(this.$t("connectedGithub")),this.$q.notify(this.$t("updating")),this.updateFromGithub().then((()=>{this.$q.notify(this.$t("updated")),this.resetTimer()}))})).catch((()=>{this.$q.notify(),setTimeout((()=>{this.initGithub()}),2e3)})))}}),mounted(){this.initGithub()},created(){this.$i18n.locale=this.$q.lang.getLocale(),this.setDarkMode(),L||(window.addEventListener("Sync",this.syncNow,!1),L=!0);let e=this.$q.localStorage.has("clipbroad-hide-icon")?this.$q.localStorage.getItem("clipbroad-hide-icon"):$.Z.defaultSettings.hideIcon;this.$q.platform.is.electron&&window.myAPI.setHideIcon(e),this.$q.platform.is.cordova&&(U||this.setupOpenwith())}});var O=i(3720),V=i(4379),Y=i(9754),K=i(7011),J=i(3414),X=i(8870),ee=i(5735),te=i(4554),ie=i(9570),le=i(4607),oe=i(6489),ae=i(7281);H.render=f;const ne=H;_()(H,"components",{QPullToRefresh:O.Z,QPage:V.Z,QSpinner:Y.Z,QList:K.Z,QItem:J.Z,QTooltip:X.Z,QItemSection:N.Z,QCheckbox:ee.Z,QIcon:te.Z,QItemLabel:E.Z,QToolbar:ie.Z,QBtn:le.Z}),_()(H,"directives",{Ripple:oe.Z,TouchHold:ae.Z})}}]);