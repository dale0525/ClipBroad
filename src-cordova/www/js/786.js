"use strict";(self["webpackChunkclipbroad"]=self["webpackChunkclipbroad"]||[]).push([[786],{1786:(e,t,a)=>{a.r(t),a.d(t,{default:()=>z});var i=a(3673),l=a(8880),o=a(2323);const n={class:"col-md-3 relative-position q-pa-md"},s=["src"],c=(0,i._)("div",{class:"col-1 relative-position q-pa-md"},null,-1),u={class:"col relative-position q-pa-md fixed-center"},r=(0,i.Uk)(" Due to duplication, the actual items in History may be less than this amount. ");function d(e,t,a,d,h,m){const p=(0,i.up)("q-btn"),g=(0,i.up)("q-avatar"),b=(0,i.up)("q-item-section"),w=(0,i.up)("q-item-label"),k=(0,i.up)("q-menu"),f=(0,i.up)("q-item"),q=(0,i.up)("q-toggle"),v=(0,i.up)("q-tooltip"),I=(0,i.up)("q-select"),$=(0,i.up)("q-page"),_=(0,i.Q2)("ripple");return(0,i.wg)(),(0,i.j4)($,{class:"column q-pa-md"},{default:(0,i.w5)((()=>[(0,i._)("div",n,[(0,i.Wm)(l.uT,{appear:"","enter-active-class":"animated fadeInDown","leave-active-class":"animated fadeOutUp"},{default:(0,i.w5)((()=>[m.showLoginBtn?((0,i.wg)(),(0,i.j4)(p,{key:0,class:"q-my-md",color:"primary",icon:"login",label:"Login With Github",onClick:t[0]||(t[0]=e=>m.auth())})):(0,i.kq)("",!0)])),_:1}),(0,i.Wm)(l.uT,{appear:"","enter-active-class":"animated fadeInUp","leave-active-class":"animated fadeOutDown"},{default:(0,i.w5)((()=>[m.showLoginBtn?(0,i.kq)("",!0):(0,i.wy)(((0,i.wg)(),(0,i.j4)(f,{key:0},{default:(0,i.w5)((()=>[""!=m.avatarUrl?((0,i.wg)(),(0,i.j4)(b,{key:0,side:""},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{rounded:"",size:"48px"},{default:(0,i.w5)((()=>[(0,i._)("img",{src:m.avatarUrl},null,8,s)])),_:1})])),_:1})):(0,i.kq)("",!0),(0,i.Wm)(b,null,{default:(0,i.w5)((()=>[""!=m.username?((0,i.wg)(),(0,i.j4)(w,{key:0},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(m.username),1)])),_:1})):(0,i.kq)("",!0),m.rateLimit?((0,i.wg)(),(0,i.j4)(w,{key:1,caption:""},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)("Limit: "+m.rateLimit.current+" / "+m.rateLimit.limit),1)])),_:1})):(0,i.kq)("",!0),m.rateLimit?((0,i.wg)(),(0,i.j4)(w,{key:2,caption:""},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)("Reset in: "+m.rateLimit.time+"s"),1)])),_:1})):(0,i.kq)("",!0)])),_:1}),(0,i.Wm)(k,{anchor:"center middle",self:"center middle"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{color:"black",label:"Logout",onClick:t[1]||(t[1]=e=>m.logout())})])),_:1})])),_:1},512)),[[_]])])),_:1})]),c,(0,i._)("div",u,[e.$q.platform.is.mac?((0,i.wg)(),(0,i.j4)(q,{key:0,modelValue:h.hideIcon,"onUpdate:modelValue":t[2]||(t[2]=e=>h.hideIcon=e),"checked-icon":"check",color:"green","unchecked-icon":"clear",label:"Hide Dock Icon","left-label":""},null,8,["modelValue"])):(0,i.kq)("",!0),(0,i.Wm)(I,{label:"Max Sync Items","transition-show":"jump-up","transition-hide":"jump-up",filled:"",modelValue:h.maxItem,"onUpdate:modelValue":t[3]||(t[3]=e=>h.maxItem=e),options:[20,40,60,80,100],style:{width:"250px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{anchor:"top middle",self:"bottom middle",offset:[10,10]},{default:(0,i.w5)((()=>[r])),_:1})])),_:1},8,["modelValue"])])])),_:1})}var h=a(3437),m=a(1185),p=a(1959),g=a(19);const b="fa79756f53d8c0a88ddd";let w=null,k=!1,f=(0,p.iH)(!1),q=(0,p.iH)(""),v=(0,p.iH)(""),I=(0,p.iH)(null);const $={data(){return{hideIcon:!0,maxItem:40}},computed:{showLoginBtn(){return!f.value},username(){return q.value},avatarUrl(){return v.value},rateLimit(){return I.value}},methods:{auth(){let e=(0,m.Z)();this.$q.localStorage.set("clipbroad-github-state",e),(0,h.Z)(`https://github.com/login/oauth/authorize?client_id=${b}&redirect_uri=https://logiconsole.com/api/clipbroad/oauth&scope=repo&state=${e}`,null,{noreferrer:!1}),k=!0},logout(){this.$q.localStorage.remove("clipbroad-github-token"),this.$githubInstance.github=null,this.$githubInstance.githubUser=null,this.$githubInstance.githubRepo=null,this.$githubInstance.githubUserName=null,this.$githubInstance.githubAvatarUrl=null,this.$githubInstance.rateLimit=null,this.$githubInstance.githubRepoExist=!1,f.value=!1},setToken(e){f.value=!0,k=!1,this.$setGithub(e).then((({data:e})=>{q.value=e.username,v.value=e.avatarUrl})).catch((()=>{}))}},mounted(){this.$q.localStorage.has("clipbroad-github-token")&&this.setToken(this.$q.localStorage.getItem("clipbroad-github-token")),k=!1,null==w&&(w=setInterval((()=>{k&&this.$axios.post("https://api.logictan.workers.dev/corsproxy/",{state:this.$q.localStorage.getItem("clipbroad-github-state")}).then((({data:e})=>{"success"!=e.status?g.log(e.message):(g.log(`access token is ${e.message}`),this.$q.localStorage.set("clipbroad-github-token",e.message),this.setToken(e.message))})).catch((e=>{g.log(e)}))}),2e3)),this.$getRateLimit().then((({message:e})=>{I.value=e})).catch((e=>{}))},watch:{hideIcon:function(e){this.$q.localStorage.set("clipbroad-hide-icon",e),this.$q.platform.is.electron&&window.myAPI.setHideIcon(e)},maxItem:function(e){this.$q.localStorage.set("clipbroad-max-item",e)}},created(){this.hideIcon=!this.$q.localStorage.has("clipbroad-hide-icon")||this.$q.localStorage.getItem("clipbroad-hide-icon"),this.$q.platform.is.electron&&window.myAPI.setHideIcon(this.hideIcon)}};var _=a(4379),y=a(4607),L=a(3414),U=a(2035),S=a(5096),Z=a(2350),x=a(811),Q=a(2582),j=a(7947),W=a(8870),H=a(6489),T=a(9789),V=a.n(T);$.render=d;const z=$;V()($,"components",{QPage:_.Z,QBtn:y.Z,QItem:L.Z,QItemSection:U.Z,QAvatar:S.Z,QItemLabel:Z.Z,QMenu:x.Z,QToggle:Q.Z,QSelect:j.Z,QTooltip:W.Z}),V()($,"directives",{Ripple:H.Z})}}]);